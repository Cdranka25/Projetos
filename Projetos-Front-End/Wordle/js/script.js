document.addEventListener("DOMContentLoaded", function () {

    const palavraSecreta = palavras[Math.floor(Math.random() * palavras.length)].toUpperCase();

    const input = document.getElementById("inputTexto");
    const buttonConfirmar = document.getElementById("separar");
    const buttonReiniciar = document.getElementById("reiniciar");
    const titulo = document.getElementById("tituloJogo");
    const audioAcerto = new Audio('../audio/Bugle Tune.mp3');
    const audioQuase = new Audio('../audio/Metallic Clank.mp3');
    const audioFim = new Audio('../audio/533034__evretro__8-bit-game-over-soundtune.wav');

    let tentativaAtual = 0;

    function validarPalpite() {
        const palpite = input.value.toUpperCase();
        console.log(`Tentativa: ${palpite}`);

        if (palpite.length !== 5) {
            audioQuase.play();
            alert("Digite uma palavra de 5 letras.");
            return;
        }

        const linha = document.querySelectorAll("table tr")[tentativaAtual];

        for (let i = 0; i < 5; i++) {
            const celula = linha.children[i];
            celula.textContent = palpite[i];

            if (palpite[i] === palavraSecreta[i]) {
                celula.style.backgroundColor = "green";
            } else if (palavraSecreta.includes(palpite[i])) {
                celula.style.backgroundColor = "yellow";
            } else {
                celula.style.backgroundColor = "grey";
            }
        }

        if (palpite !== palavraSecreta) {
            audioQuase.play();
        }

        if (palpite === palavraSecreta) {
            audioAcerto.play();
            titulo.textContent = "Parabéns!";
            titulo.style.color = "green";

            for (let i = 0; i < 5; i++) {
                linha.children[i].classList.add("correto");
            }
        } else {
            tentativaAtual++;
            if (tentativaAtual === 6) {
                titulo.textContent = `Game Over - A palavra era "${palavraSecreta}"`;
                titulo.style.color = "red";
                audioFim.play();
            }
        }

        input.value = "";
    }

    function reiniciarJogo() {
        location.reload(); // ou lógica para reiniciar sem recarregar a página
    }

    buttonConfirmar.addEventListener("click", validarPalpite);
    buttonReiniciar.addEventListener("click", reiniciarJogo);

    input.addEventListener("keydown", function (event) {
        if (event.key === "Enter") {
            validarPalpite();
        }
    });

});

const palavras = [
    "abaco",
    "acaso",
    "acido",
    "adaga",
    "aereo",
    "afeto",
    "agata",
    "agora",
    "agudo",
    "ainda",
    "alado",
    "album",
    "algum",
    "amago",
    "amaro",
    "ambos",
    "amigo",
    "anexo",
    "anodo",
    "antes",
    "ardor",
    "areas",
    "armas",
    "arroz",
    "artes",
    "asilo",
    "atomo",
    "audaz",
    "aviao",
    "bagre",
    "baiao",
    "baixo",
    "balde",
    "balsa",
    "bamba",
    "banco",
    "banda",
    "barco",
    "bardo",
    "barro",
    "basal",
    "basta",
    "batom",
    "bazar",
    "beira",
    "belga",
    "berro",
    "besta",
    "bicho",
    "birra",
    "bloco",
    "boate",
    "bocal",
    "bolso",
    "bonde",
    "bonus",
    "botao",
    "brabo",
    "bravo",
    "brejo",
    "breve",
    "briga",
    "bruta",
    "burra",
    "burro",
    "busca",
    "caixa",
    "calma",
    "calor",
    "calvo",
    "campo",
    "canil",
    "capaz",
    "capim",
    "carro",
    "casal",
    "casco",
    "caule",
    "celta",
    "cerco",
    "certo",
    "chapa",
    "chata",
    "chato",
    "chave",
    "chefe",
    "choro",
    "chuva",
    "ciclo",
    "cinco",
    "claro",
    "clava",
    "clima",
    "clipe",
    "coala",
    "colar",
    "combo",
    "comum",
    "corpo",
    "corre",
    "corte",
    "cosmo",
    "costa",
    "couro",
    "cravo",
    "creme",
    "crise",
    "crivo",
    "cruel",
    "cubos",
    "culpa",
    "culto",
    "cupim",
    "curso",
    "dardo",
    "delta",
    "denso",
    "dente",
    "dicas",
    "dieta",
    "digno",
    "diodo",
    "disco",
    "ditos",
    "dobra",
    "dobro",
    "doces",
    "doido",
    "doses",
    "drama",
    "dueto",
    "dupla",
    "duplo",
    "ecoar",
    "edema",
    "eixos",
    "elite",
    "enjoo",
    "entao",
    "ereto",
    "ergui",
    "erica",
    "erros",
    "etapa",
    "etnia",
    "evita",
    "exame",
    "exato",
    "exito",
    "exodo",
    "faixa",
    "falar",
    "falta",
    "fardo",
    "farol",
    "farpa",
    "farsa",
    "fatal",
    "fator",
    "fatos",
    "fazia",
    "febre",
    "fecho",
    "fedor",
    "feito",
    "feliz",
    "feroz",
    "ferra",
    "ferro",
    "festa",
    "feudo",
    "fiapo",
    "fibra",
    "ficar",
    "ficha",
    "filho",
    "filme",
    "firme",
    "fisga",
    "fitar",
    "fivel",
    "fixar",
    "floco",
    "flora",
    "fluir",
    "fluxo",
    "fobia",
    "focos",
    "fofos",
    "folga",
    "folha",
    "fonte",
    "forca",
    "forma",
    "forno",
    "forte",
    "forum",
    "fosco",
    "fossa",
    "fossa",
    "fotos",
    "fraca",
    "fraco",
    "frase",
    "freio",
    "frito",
    "frota",
    "fruta",
    "fugaz",
    "fugir",
    "fundo",
    "furia",
    "furto",
    "futil",
    "fuzil",
    "gaita",
    "galho",
    "galos",
    "ganho",
    "garoa",
    "garra",
    "gasto",
    "gatas",
    "gazua",
    "gelos",
    "genio",
    "genro",
    "germe",
    "giria",
    "glace",
    "globo",
    "gnomo",
    "golas",
    "goleo",
    "golfo",
    "golpe",
    "gorro",
    "gosto",
    "grade",
    "grama",
    "grana",
    "graus",
    "greve",
    "grilo",
    "gripe",
    "grito",
    "gruta",
    "guizo",
    "guria",
    "haver",
    "heroi",
    "hiato",
    "hidra",
    "homem",
    "honra",
    "horas",
    "hotel",
    "humor",
    "idade",
    "ideal",
    "ideia",
    "igual",
    "ileso",
    "impar",
    "imune",
    "indio",
    "inibe",
    "inova",
    "insta",
    "irado",
    "isola",
    "janta",
    "jarra",
    "jaula",
    "jegue",
    "jeito",
    "jejum",
    "jesus",
    "jogar",
    "jovem",
    "juizo",
    "julho",
    "junco",
    "junho",
    "junta",
    "junto",
    "jurar",
    "justa",
    "justo",
    "labio",
    "lacre",
    "lados",
    "lagoa",
    "lapis",
    "lapso",
    "larva",
    "lasca",
    "laser",
    "latao",
    "latim",
    "latir",
    "laudo",
    "lavar",
    "lazer",
    "lebre",
    "leite",
    "lento",
    "leque",
    "lesma",
    "levar",
    "lhama",
    "libra",
    "ligar",
    "limbo",
    "limpo",
    "lince",
    "lindo",
    "linha",
    "lista",
    "litio",
    "livre",
    "livro",
    "lixao",
    "lobos",
    "lombo",
    "lorde",
    "lotar",
    "louca",
    "louco",
    "louro",
    "lucro",
    "lugar",
    "lupus",
    "lutar",
    "luzes",
    "macio",
    "macho",
    "macro",
    "mafia",
    "magia",
    "magma",
    "maior",
    "manga",
    "manja",
    "manso",
    "manta",
    "manto",
    "mapas",
    "marca",
    "marco",
    "mares",
    "maria",
    "marta",
    "marte",
    "massa",
    "matar",
    "media",
    "meias",
    "meiga",
    "meigo",
    "meios",
    "menor",
    "menos",
    "menta",
    "mesas",
    "meses",
    "mesma",
    "metal",
    "meteo",
    "metro",
    "mexer",
    "miami",
    "micao",
    "micro",
    "minha",
    "miolo",
    "mirar",
    "missa",
    "mista",
    "miudo",
    "modas",
    "modos",
    "moeda",
    "moela",
    "mofar",
    "mogno",
    "moita",
    "molde",
    "molho",
    "monge",
    "monte",
    "moral",
    "morar",
    "morno",
    "morro",
    "motel",
    "motor",
    "mover",
    "mudar",
    "mugir",
    "muito",
    "multa",
    "mundo",
    "mural",
    "museu",
    "musgo",
    "nadar",
    "naipe",
    "nanar",
    "nardo",
    "nariz",
    "nasal",
    "natal",
    "navio",
    "negar",
    "negro",
    "nervo",
    "nesse",
    "neste",
    "nevar",
    "neves",
    "nevoa",
    "nicho",
    "ninar",
    "ninho",
    "nisso",
    "nisto",
    "nivel",
    "nobre",
    "noite",
    "noiva",
    "noivo",
    "nomes",
    "noras",
    "norma",
    "norte",
    "nosso",
    "notar",
    "notas",
    "novas",
    "novos",
    "nudez",
    "nuvem",
    "nylon",
    "obeso",
    "obras",
    "obter",
    "obvio",
    "odiar",
    "oeste",
    "olhar",
    "olhos",
    "ombro",
    "omega",
    "ondas",
    "ontem",
    "opaco",
    "opala",
    "opera",
    "ordem",
    "ossea",
    "ossos",
    "ostra",
    "otica",
    "otimo",
    "ouros",
    "ousar",
    "outra",
    "outro",
    "ouvir",
    "pacto",
    "padre",
    "pagao",
    "pagar",
    "palco",
    "palha",
    "panda",
    "papel",
    "parar",
    "pardo",
    "parir",
    "parte",
    "passo",
    "pasta",
    "pasto",
    "patas",
    "patio",
    "pausa",
    "pavor",
    "pecar",
    "pegar",
    "peito",
    "peixe",
    "penal",
    "penso",
    "pente",
    "perda",
    "perna",
    "pesca",
    "peste",
    "piada",
    "picar",
    "pilha",
    "pinta",
    "pinto",
    "piora",
    "placa",
    "plano",
    "pleno",
    "pluma",
    "pobre",
    "podar",
    "poder",
    "poema",
    "poeta",
    "polar",
    "polir",
    "polvo",
    "pomar",
    "pomba",
    "pombo",
    "pompa",
    "porca",
    "porco",
    "poros",
    "porta",
    "porto",
    "posse",
    "posta",
    "posto",
    "potes",
    "pouco",
    "pouso",
    "povos",
    "praga",
    "praia",
    "prata",
    "prato",
    "prazo",
    "prego",
    "preto",
    "prima",
    "primo",
    "prova",
    "psico",
    "pular",
    "pulga",
    "pulso",
    "punga",
    "punir",
    "puxar",
    "queda",
    "quilo",
    "quina",
    "radar",
    "raiar",
    "raiva",
    "ralar",
    "rampa",
    "rapaz",
    "rasgo",
    "reais",
    "reata",
    "regar",
    "reger",
    "reino",
    "remar",
    "renda",
    "resto",
    "retas",
    "retro",
    "rever",
    "rezar",
    "ricas",
    "ricos",
    "rifle",
    "rigor",
    "rimar",
    "risco",
    "risos",
    "rival",
    "rodar",
    "rodos",
    "rolar",
    "rolha",
    "rombo",
    "rosto",
    "rotas",
    "roubo",
    "roupa",
    "rugas",
    "rugir",
    "ruins",
    "rural",
    "saber",
    "sabia",
    "sabor",
    "sacar",
    "sacro",
    "safra",
    "sagaz",
    "saida",
    "sair",
    "saldo",
    "salto",
    "salva",
    "samba",
    "sanar",
    "santo",
    "sapos",
    "saque",
    "sarna",
    "sauna",
    "seara",
    "sebes",
    "secos",
    "sedar",
    "seita",
    "selar",
    "selos",
    "senda",
    "senha",
    "senil",
    "senso",
    "senta",
    "sente",
    "sento",
    "seres",
    "seria",
    "servo",
    "setas",
    "setor",
    "sexta",
    "sigla",
    "sinal",
    "sinos",
    "siria",
    "sitio",
    "sobra",
    "sobre",
    "socar",
    "sofia",
    "solto",
    "somos",
    "sonar",
    "sonho",
    "sonos",
    "sopro",
    "sorte",
    "soros",
    "sosia",
    "suave",
    "subir",
    "sucos",
    "sueco",
    "sugar",
    "sujei",
    "sujos",
    "sumir",
    "super",
    "surda",
    "surdo",
    "surfe",
    "surra",
    "sutil",
    "tabua",
    "tacar",
    "talco",
    "talha",
    "tampa",
    "tapar",
    "tarde",
    "tarja",
    "taxar",
    "tecer",
    "tedio",
    "teias",
    "temer",
    "temor",
    "tempo",
    "tenaz",
    "tenda",
    "tenis",
    "tenor",
    "tenso",
    "tento",
    "termo",
    "terno",
    "terra",
    "testa",
    "tigre",
    "timao",
    "tinta",
    "tique",
    "tirar",
    "tiros",
    "titia",
    "tocar",
    "tocha",
    "todas",
    "todos",
    "tomar",
    "tonel",
    "tonto",
    "toque",
    "torax",
    "torre",
    "torso",
    "tosar",
    "total",
    "touro",
    "trago",
    "traje",
    "trama",
    "trapo",
    "trava",
    "trave",
    "treco",
    "trema",
    "tremo",
    "trena",
    "treta",
    "treva",
    "trevo",
    "troca",
    "trono",
    "truco",
    "truta",
    "tufao",
    "tumba",
    "tumor",
    "tunar",
    "turma",
    "turvo",
    "tutor",
    "ultra",
    "umido",
    "unhas",
    "urano",
    "urina",
    "urubu",
    "usado",
    "vagar",
    "valer",
    "valor",
    "varal",
    "vasos",
    "vasto",
    "vazar",
    "veado",
    "vedar",
    "veias",
    "velar",
    "velha",
    "velho",
    "veloz",
    "venda",
    "venha",
    "vento",
    "verao",
    "verba",
    "verde",
    "verme",
    "versa",
    "verso",
    "vesgo",
    "veste",
    "vetor",
    "vicio",
    "vidro",
    "vigia",
    "vigor",
    "vinco",
    "vinta",
    "viola",
    "viral",
    "virar",
    "viril",
    "visao",
    "visar",
    "vista",
    "visto",
    "vital",
    "vitor",
    "viver",
    "vivos",
    "voado",
    "vogal",
    "volta",
    "volte",
    "volts",
    "voraz",
    "vossa",
    "votar",
    "vovos",
    "vozes",
    "vulgo",
    "vulto",
    "xarope",
    "xeque",
    "xerox",
    "zebra",
    "zelar",
    "zerar",
    "zumbi"
];
